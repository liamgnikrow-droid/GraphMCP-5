---
uid: "SPEC-Graph_Physics"
title: "SPEC-Graph_Physics"
type: "Spec"
status: "unknown"
tags: [graph/spec, state/unknown]
cssclasses: [juggl-node, type-spec, premium-card]
decomposes:
  - "[[REQ-YAML_LINKS_ONLY]]"
  - "[[REQUIREMENT-TRE_OVANIE_AVTORIZATSII_POLZOVATELEY]]"
  - "[[REQUIREMENT-TRE_OVANIE__EZOPASNOSTI_API]]"
---
# SPEC-Graph_Physics

> [!abstract] Spec Context
> **ID:** `SPEC-Graph_Physics` | **Status:** `unknown`

## Description
> This node defines the Allowed Transitions and Tool Availability based on the Agent's Location.

# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –§–∏–∑–∏–∫–∏ –ì—Ä–∞—Ñ–∞

> [!abstract] Spec Context
> **ID:** `SPEC-Graph_Physics` | **Status:** `draft`

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–ó–∞–∫–æ–Ω—ã –§–∏–∑–∏–∫–∏** ‚Äî –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ê–≥–µ–Ω—Ç–∞ –≤ –ì—Ä–∞—Ñ–µ. –ê–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å —ç—Ç–∏ –∑–∞–∫–æ–Ω—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (MCP Middleware), –∞ –Ω–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ "–¥–æ–≤–µ—Ä–∏—è" –∏–ª–∏ "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π".

**–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø**: –ê–≥–µ–Ω—Ç –Ω–µ –≤ Docker. –ê–≥–µ–Ω—Ç **–≤ –ì—Ä–∞—Ñ–µ**.

**–ü—Ä–∏–Ω—Ü–∏–ø –ë–µ–ª–æ–≥–æ –°–ø–∏—Å–∫–∞**: –†–∞–∑—Ä–µ—à–µ–Ω–æ –¢–û–õ–¨–ö–û —Ç–æ, —á—Ç–æ —è–≤–Ω–æ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞–ø—Ä–µ—Ç—ã ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ù–ï –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

---

## –ß–∞—Å—Ç—å 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞

### 1.1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Kernel Space –∏ User Space

**–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** (–∫–∞–∫ –∞–≥–µ–Ω—Ç –≤–∏–¥–∏—Ç –≥—Ä–∞—Ñ):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     KERNEL SPACE (–ú–µ—Ç–∞-–ì—Ä–∞—Ñ)                     ‚îÇ
‚îÇ  –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º (Host Agent / Human)          ‚îÇ
‚îÇ  –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –ü–†–ï–î–õ–ê–ì–ê–¢–¨ –∏–∑–º–µ–Ω–µ–Ω–∏—è, Human –æ–¥–æ–±—Ä—è–µ—Ç               ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ  :NodeType   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   :Action    ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ :Constraint  ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  {name}      ‚îÇ    ‚îÇ  {tool,      ‚îÇ    ‚îÇ {rule,       ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ              ‚îÇ    ‚îÇ   target}    ‚îÇ    ‚îÇ  condition}  ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ         ‚îÇ                   ‚ñ≤                    ‚îÇ               ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ[:CAN_PERFORM]‚îÄ‚îÄ‚îò    [:RESTRICTS]‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                     USER SPACE (–†–∞–±–æ—á–∏–π –ì—Ä–∞—Ñ)                    ‚îÇ
‚îÇ  –ó–¥–µ—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ê–≥–µ–Ω—Ç. –û–Ω –ù–ï –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Kernel.    ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ    :Idea     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ    :Spec     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ :Requirement ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ         ‚ñ≤                   ‚ñ≤                                    ‚îÇ
‚îÇ         ‚îÇ [:LOCATED_AT]     ‚îÇ [:RELATES_TO]                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îÇ
‚îÇ  ‚îÇ    :Agent    ‚îÇ    ‚îÇ    :Task     ‚îÇ  ‚Üê "–ë–æ–∫–æ–≤—ã–µ" —É–∑–ª—ã         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 1.1.1. –§–∏–∑–∏—á–µ—Å–∫–æ–µ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: Multi-Database Architecture

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –°–º–µ—à–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–æ–≤ (Core) –∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ (Project).

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ë–î –≤ Neo4j:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ NEO4J (Multi-Database) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ   –ë–î: "core"       ‚îÇ                  ‚îÇ –ë–î: "project_X"    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  (–ö–û–ù–°–¢–ê–ù–¢–ê)       ‚îÇ                  ‚îÇ (–ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º–∞—è)    ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ :NodeType          ‚îÇ                  ‚îÇ :Idea              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ :Action            ‚îÇ                  ‚îÇ :Spec              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ :Constraint        ‚îÇ                  ‚îÇ :Requirement       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ :Agent             ‚îÇ                  ‚îÇ :Task              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                    ‚îÇ                  ‚îÇ :File              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã     ‚îÇ                  ‚îÇ –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞     ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ           ‚ñ≤                                       ‚ñ≤                ‚îÇ
‚îÇ           ‚îÇ                                       ‚îÇ                ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                           ‚ñº                                        ‚îÇ
‚îÇ                      MCP Server                                    ‚îÇ
‚îÇ                           ‚îÇ                                        ‚îÇ
‚îÇ   check_constraints() ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚Üí —á–∏—Ç–∞–µ—Ç –∏–∑ 'core'                    ‚îÇ
‚îÇ   create_concept()    ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚Üí –ø–∏—à–µ—Ç –≤ 'project_X'                 ‚îÇ
‚îÇ   illuminate_path()   ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚Üí —á–∏—Ç–∞–µ—Ç –∏–∑ 'project_X'               ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **Core –ë–î** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞-–≥—Ä–∞—Ñ (NodeType, Action, Constraint)
2. **Project –ë–î** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
3. **Agent** ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Core, –Ω–æ LOCATED_AT —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤ Project
4. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ PROJECT_DB, Core –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –ï–¥–∏–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (Core) –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –õ—ë–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–∞-–≥—Ä–∞—Ñ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

### 1.2. –¢–∏–ø—ã –ú–µ—Ç–∞-–£–∑–ª–æ–≤ (Kernel Space)

| ID    | –¢–∏–ø –£–∑–ª–∞      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                          | –°–≤–æ–π—Å—Ç–≤–∞                                         |
| :---- | :------------ | :-------------------------------------------------- | :----------------------------------------------- |
| 1.2.1 | `:NodeType`   | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —É–∑–ª–∞ User Space (Idea, Spec, –∏ —Ç.–¥.) | `name`, `description`, `max_count`               |
| 1.2.2 | `:Action`     | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç            | `tool_name`, `target_type`, `link_type`, `scope` |
| 1.2.3 | `:Constraint` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ/–∑–∞–ø—Ä–µ—Ç                       | `rule_name`, `condition`, `error_message`        |

### 1.3. –°–≤—è–∑–∏ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞

| ID    | –¢–∏–ø –°–≤—è–∑–∏      | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ                             | –°–µ–º–∞–Ω—Ç–∏–∫–∞                                                        |
| :---- | :------------- | :-------------------------------------- | :--------------------------------------------------------------- |
| 1.3.1 | `:CAN_PERFORM` | `(:NodeType)-[:CAN_PERFORM]->(:Action)` | "–ù–∞—Ö–æ–¥—è—Å—å –≤ —É–∑–ª–µ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞, –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ" |
| 1.3.2 | `:RESTRICTS`   | `(:Constraint)-[:RESTRICTS]->(:Action)` | "–≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö"   |
| 1.3.3 | `:PRODUCES`    | `(:Action)-[:PRODUCES]->(:NodeType)`    | "–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å–æ–∑–¥–∞—ë—Ç —É–∑–µ–ª —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞"                          |

### 1.4. –ü—Ä–∏–Ω—Ü–∏–ø –ë–µ–ª–æ–≥–æ –°–ø–∏—Å–∫–∞

**–ö–ª—é—á–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:**

| ID    | –ü—Ä–∞–≤–∏–ª–æ                         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                            |
| :---- | :------------------------------ | :---------------------------------------------------------------------------------- |
| 1.4.1 | –¢–æ–ª—å–∫–æ —è–≤–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è         | –ï—Å–ª–∏ —Å–≤—è–∑–∏ `[:CAN_PERFORM]` –Ω–µ—Ç ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ                               |
| 1.4.2 | –ù–µ—Ç —Å–≤—è–∑–∏ = –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏     | –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å "–Ω–µ–ª—å–∑—è X‚ÜíY" ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–µ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å "–º–æ–∂–Ω–æ X‚ÜíY"           |
| 1.4.3 | –ú–µ—Ç–∞-–ì—Ä–∞—Ñ = –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–π –∑–∞–∫–æ–Ω | –í—Å—ë —á—Ç–æ –Ω–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ ‚Äî –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞                          |

### 1.5. –ú–µ—Ö–∞–Ω–∏–∑–º Middleware ("–õ–∏–Ω–∑–∞")

MCP –°–µ—Ä–≤–µ—Ä –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ **–õ–∏–Ω–∑–∞** –º–µ–∂–¥—É –ê–≥–µ–Ω—Ç–æ–º –∏ –ì—Ä–∞—Ñ–æ–º. –ê–≥–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Neo4j ‚Äî –æ–Ω –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ Middleware –µ–º—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç.

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:**

```
1. –ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç: list_tools()
2. Middleware –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–∫–∞—Ü–∏—é: (:Agent)-[:LOCATED_AT]->(current_node)
3. Middleware –ø–æ–ª—É—á–∞–µ—Ç —Ç–∏–ø —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞: labels(current_node)[0]
4. Middleware –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ—É:
   
   // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–≥–¥–∞)
   MATCH (action:Action {scope: 'global'})
   RETURN action.tool_name
   
   UNION
   
   // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∏–ø–∞ —É–∑–ª–∞)
   MATCH (nt:NodeType {name: $current_type})-[:CAN_PERFORM]->(action:Action)
   WHERE action.scope = 'contextual'
   OPTIONAL MATCH (c:Constraint)-[:RESTRICTS]->(action)
   WITH action, collect(c) as constraints
   WHERE ALL(c IN constraints WHERE evaluate_condition(c) = false)
   RETURN action.tool_name

5. Middleware –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¢–û–õ–¨–ö–û —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
6. –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ù–ï —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞
```

---

## –ß–∞—Å—Ç—å 2. –¢–∏–ø—ã –£–∑–ª–æ–≤ User Space

### 2.1. –û—Å–Ω–æ–≤–Ω–∞—è –ò–µ—Ä–∞—Ä—Ö–∏—è (–í–µ—Ä—Ç–∏–∫–∞–ª—å)

| ID    | –¢–∏–ø           | –†–æ–ª—å                                  | –ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç        | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞      |
| :---- | :------------ | :------------------------------------ | :----------------- | :-------------------------- |
| 2.1.1 | **Idea**      | –ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è/–∏–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞        | Human (Bootstrap)  | **–°—Ç—Ä–æ–≥–æ 1** –Ω–∞ –ø—Ä–æ–µ–∫—Ç      |
| 2.1.2 | **Spec**      | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è              | –ê–≥–µ–Ω—Ç (–∏–∑ Idea)    | **–°—Ç—Ä–æ–≥–æ 1** (–¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è)  |
| 2.1.3 | **Requirement** | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ           | –ê–≥–µ–Ω—Ç (–∏–∑ Spec)    | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π             |

### 2.2. –ë–æ–∫–æ–≤—ã–µ –¢–∏–ø—ã (–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ)

| ID    | –¢–∏–ø        | –†–æ–ª—å                                           | –ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç | –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å          |
| :---- | :--------- | :--------------------------------------------- | :---------- | :--------------------- |
| 2.2.1 | **Task**   | –ó–∞–¥–∞—á–∞ –æ—Ç Human —á–µ—Ä–µ–∑ —á–∞—Ç                      | –ê–≥–µ–Ω—Ç       | Spec, Requirement      |
| 2.2.2 | **Domain** | –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞   | –ê–≥–µ–Ω—Ç       | Idea, Spec             |
| 2.2.3 | **Bug**    | –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–±—É–¥—É—â–µ–µ)                | –ê–≥–µ–Ω—Ç       | Requirement, Spec      |

### 2.3. –ë—É–¥—É—â–∏–µ –¢–∏–ø—ã (–Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ–º —Å–µ–π—á–∞—Å)

| ID    | –¢–∏–ø          | –†–æ–ª—å                        | –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏–º                        |
| :---- | :----------- | :-------------------------- | :----------------------------------- |
| 2.3.1 | **File**     | –§–∞–π–ª –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞         | –ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è   |
| 2.3.2 | **Class**    | –ö–ª–∞—Å—Å –≤ –∫–æ–¥–µ                | –ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è   |
| 2.3.3 | **Function** | –§—É–Ω–∫—Ü–∏—è/–º–µ—Ç–æ–¥ –≤ –∫–æ–¥–µ        | –ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è   |

---

## –ß–∞—Å—Ç—å 3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 3.1. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã **–≤—Å–µ–≥–¥–∞**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ª–æ–∫–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ –∫–∞–∫ `(:Action {scope: 'global'})`.

| ID    | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                   | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
| :---- | :---------------- | :----------------------------------------------------------- | :---------- |
| 3.1.1 | `look_around`     | **Enhanced Dashboard.** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ª–æ–∫–∞—Ü–∏—é + description, —Å–æ—Å–µ–¥–µ–π —Å —Ç–∏–ø–∞–º–∏ —Å–≤—è–∑–µ–π, –¥–æ—Å—Ç—É–ø–Ω—ã–µ actions, constraints, related requirements (2 hops), stats. | –ù–µ—Ç         |
| 3.1.2 | `move_to`         | **–ù–∞–≤–∏–≥–∞—Ü–∏—è + Auto-Refresh.** –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫ —É–∑–ª—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º look_around –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. | –¢–æ–ª—å–∫–æ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–æ—Å–µ–¥—É |
| 3.1.3 | `look_for_similar` | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫. –ù–∞—Ö–æ–¥–∏—Ç —É–∑–ª—ã –ø–æ —Å–º—ã—Å–ª—É —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏. | –ù–µ—Ç        |
| 3.1.4 | `explain_physics` | –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è. –û–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—á–µ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.        | –ù–µ—Ç         |
| 3.1.5 | `register_task`   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –æ—Ç Human. –°–æ–∑–¥–∞—ë—Ç —É–∑–µ–ª Task.              | –ù–µ—Ç         |
| 3.1.6 | `read_node`       | –ß—Ç–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–æ–¥—ã –ø–æ UID (title, description, body). | –ù–µ—Ç         |
| 3.1.7 | `get_full_context`| –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏–µ –Ω–æ–¥—ã, related specs/reqs, constraints, impact preview. | –ù–µ—Ç         |
| 3.1.8 | `illuminate_path` | üî¶ **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç—Ä–æ–ø–∏–Ω–∫–∏.** –ü–æ –∑–∞–ø—Ä–æ—Å—É –Ω–∞—Ö–æ–¥–∏—Ç Entry Point, —Å—Ç—Ä–æ–∏—Ç –ø—É—Ç—å UP (–∫ Idea) –∏ DOWN (–∫ Task), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤—Å–µ—Ö –Ω–æ–¥ –Ω–∞ –ø—É—Ç–∏ + lateral connections. | –ù–µ—Ç         |

#### 3.1.9. –ú–µ—Ç–∞—Ñ–æ—Ä–∞ "–§–æ–Ω–∞—Ä–∏–∫–∞"

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üî¶ illuminate_path("–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è")                                ‚îÇ
‚îÇ                                                                   ‚îÇ
‚îÇ      IDEA-Genesis (–∫–æ—Ä–µ–Ω—å)                                        ‚îÇ
‚îÇ           ‚îÇ                                                       ‚îÇ
‚îÇ      SPEC-Security ‚Üê‚îÄ‚îÄ‚îÄ –ø–æ–¥—Å–≤–µ—á–µ–Ω–æ                                ‚îÇ
‚îÇ       ‚ï±        ‚ï≤                                                  ‚îÇ
‚îÇ   REQ-Auth   REQ-Encrypt                                          ‚îÇ
‚îÇ      ‚îÇ  ‚Üê ENTRY POINT                                             ‚îÇ
‚îÇ  TASK-2FA                                                         ‚îÇ
‚îÇ                                                                   ‚îÇ
‚îÇ  –ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –ö–û–ù–¢–ï–ù–¢ –≤—Å–µ—Ö –Ω–æ–¥ –Ω–∞ –ø—É—Ç–∏, –Ω–µ –≤–µ—Å—å –≥—Ä–∞—Ñ           ‚îÇ
‚îÇ  = "–ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Å–≤–æ—é —Ç—Ä–æ–ø–∏–Ω–∫—É, –Ω–µ –≤–µ—Å—å –ª–µ—Å"                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.2. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã **—Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–∞—Ö —É–∑–ª–æ–≤**. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å–≤—è–∑—è–º–∏ `(:NodeType)-[:CAN_PERFORM]->(:Action)`.

| ID    | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                           | –ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏          |
| :---- | :--------------- | :--------------------------------------------------- | :-------------------------------------------- |
| 3.2.1 | `create_concept` | –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —É–∑–ª–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ–º | –°–º. –¢–∞–±–ª–∏—Ü—É –ü–µ—Ä–µ—Ö–æ–¥–æ–≤ (3.3)                   |
| 3.2.2 | `link_nodes`     | –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —É–∑–ª–∞–º–∏            | –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (—Å–º. 3.4)       |
| 3.2.3 | `delete_node`    | –£–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–∞ –∏ –µ–≥–æ Markdown-—Ñ–∞–π–ª–∞                   | –ù–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é                |
| 3.2.4 | `delete_link`    | –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏                          | –ü—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ —Å–æ–∑–¥–∞—Å—Ç –ª–∏ orphan?  |
| 3.2.5 | `sync_graph`     | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Neo4j ‚Üí Obsidian                       | –ù–µ—Ç                                           |
| 3.2.6 | `propose_change` | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ (–¥–ª—è Human)        | –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è         |

### 3.3. –¢–∞–±–ª–∏—Ü–∞ –ü–µ—Ä–µ—Ö–æ–¥–æ–≤ (create_concept) ‚Äî –ë–ï–õ–´–ô –°–ü–ò–°–û–ö

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `create_concept` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å–≤—è–∑—å `[:CAN_PERFORM]`.

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ò–°–ß–ï–†–ü–´–í–ê–Æ–©–ò–ô —Å–ø–∏—Å–æ–∫. –í—Å—ë —á—Ç–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî –ù–ï–í–û–ó–ú–û–ñ–ù–û.

| ID    | –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–∏–ø | –°–æ–∑–¥–∞–≤–∞–µ–º—ã–π —Ç–∏–ø | –¢–∏–ø —Å–≤—è–∑–∏    | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ                                |
| :---- | :----------- | :-------------- | :----------- | :----------------------------------------- |
| 3.3.1 | **Idea**     | Spec            | `DECOMPOSES` | –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ count(Spec) = 0                |
| 3.3.2 | **Spec**     | Requirement     | `DECOMPOSES` | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π                            |
| 3.3.3 | **Spec**     | Domain          | `RELATES_TO` | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π                            |
| 3.3.4 | **Requirement** | Domain       | `RELATES_TO` | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π                            |

**–ß—Ç–æ –ù–ï —Ä–∞–∑—Ä–µ—à–µ–Ω–æ (–∏ –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å ‚Äî –ø—Ä–æ—Å—Ç–æ –ù–ï–¢ –≤ —Ç–∞–±–ª–∏—Ü–µ):**
- Idea ‚Üí Requirement (–º–∏–Ω—É—è Spec)
- Requirement ‚Üí Spec (–æ–±—Ä–∞—Ç–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- –õ—é–±–æ–π —É–∑–µ–ª ‚Üí Idea (Idea —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ Human)
- Task —á–µ—Ä–µ–∑ create_concept (Task —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ register_task)

### 3.4. –¢–∏–ø—ã –°–≤—è–∑–µ–π (link_nodes) ‚Äî –ë–ï–õ–´–ô –°–ü–ò–°–û–ö

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ò–°–ß–ï–†–ü–´–í–ê–Æ–©–ò–ô —Å–ø–∏—Å–æ–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.

| ID    | –¢–∏–ø –°–≤—è–∑–∏    | –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (source ‚Üí target)              |
| :---- | :----------- | :--------------------------------------------------- |
| 3.4.1 | `DECOMPOSES` | Idea‚ÜíSpec, Spec‚ÜíRequirement                          |
| 3.4.2 | `DEPENDS_ON` | Requirement‚ÜíRequirement, Spec‚ÜíSpec                   |
| 3.4.3 | `CONFLICT`   | Requirement‚ÜíRequirement                              |
| 3.4.4 | `RELATES_TO` | Task‚ÜíSpec, Task‚ÜíRequirement, Domain‚ÜíSpec, Domain‚ÜíRequirement, Domain‚ÜíIdea |

---

## –ß–∞—Å—Ç—å 4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Constraints)

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ —É–∑–ª—ã `:Constraint` –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ, –∫–æ—Ç–æ—Ä—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.

### 4.1. –ó–∞–∫–æ–Ω –ß–∏—Å—Ç—ã—Ö –°—Å—ã–ª–æ–∫

| ID    | –ê—Å–ø–µ–∫—Ç          | –û–ø–∏—Å–∞–Ω–∏–µ                                                                | –ú–µ—Ö–∞–Ω–∏–∑–º |
| :---- | :-------------- | :---------------------------------------------------------------------- | :------- |
| 4.1.1 | **–ó–∞–ø—Ä–µ—â–µ–Ω–æ**   | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `[[WikiLinks]]` –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–π—Å—Ç–≤ —É–∑–ª–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ) | M-01     |
| 4.1.2 | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** | –í—Å–µ —Å–≤—è–∑–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ì—Ä–∞—Ñ–∞ (—Å–≤—è–∑–∏ Neo4j)              | M-02     |
| 4.1.3 | **–í–∞–ª–∏–¥–∞—Ü–∏—è**   | Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `[[` –∏ `]]` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —É–∑–ª–∞  | M-01     |

### 4.2. –ó–∞–∫–æ–Ω –¢–æ–ø–æ–ª–æ–≥–∏–∏

| ID    | –ü—Ä–∞–≤–∏–ª–æ                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                          | –ú–µ—Ö–∞–Ω–∏–∑–º |
| :---- | :----------------------- | :---------------------------------------------------------------- | :------- |
| 4.2.1 | –ó–∞–ø—Ä–µ—Ç —Å–∞–º–æ—É–¥–∞–ª–µ–Ω–∏—è      | –ù–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å —É–∑–µ–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –∞–≥–µ–Ω—Ç —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è             | M-03     |
| 4.2.2 | –ó–∞–ø—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ—Å—Ç—Ä–æ–≤–æ–≤ | –ü—Ä–∏ delete_link: –ø—Ä–æ–≤–µ—Ä–∫–∞ "–æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ª–∏ —É target –≤—Ö–æ–¥—è—â–∞—è —Å–≤—è–∑—å?" | M-04     |

### 4.3. –ó–∞–∫–æ–Ω –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

| ID    | –ü—Ä–∞–≤–∏–ª–æ   | –û–ø–∏—Å–∞–Ω–∏–µ                                                      | –ú–µ—Ö–∞–Ω–∏–∑–º |
| :---- | :-------- | :------------------------------------------------------------ | :------- |
| 4.3.1 | –û–¥–Ω–∞ Idea | –í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–∑–µ–ª —Ç–∏–ø–∞ Idea               | M-05     |
| 4.3.2 | –û–¥–Ω–∞ Spec | –í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–∑–µ–ª —Ç–∏–ø–∞ Spec (–¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è) | M-05     |

### 4.4. –ó–∞–∫–æ–Ω –Ø–∑—ã–∫–∞

| ID    | –ü—Ä–∞–≤–∏–ª–æ             | –û–ø–∏—Å–∞–Ω–∏–µ                                                       | –ú–µ—Ö–∞–Ω–∏–∑–º |
| :---- | :------------------ | :------------------------------------------------------------- | :------- |
| 4.4.1 | –†—É—Å—Å–∫–∏–π —è–∑—ã–∫        | –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ–ø–∏—Å–∞–Ω–∏—è) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º      | M-06     |
| 4.4.2 | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã | Docker, Neo4j, Python –∏ –¥—Ä. –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º          | M-06     |
| 4.4.3 | –ü–æ—Ä–æ–≥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏     | –ú–∏–Ω–∏–º—É–º 25% —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏       | M-06     |

### 4.5. –ú–µ—Ö–∞–Ω–∏–∑–º—ã –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è

#### 4.5.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ü—Ä–∏–Ω—Ü–∏–ø: –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ú–µ—Ç–∞-–ì—Ä–∞—Ñ + –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π Runtime

–ú–µ—Ç–∞-–ì—Ä–∞—Ñ **–æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º**, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –î–ï–ö–õ–ê–†–ê–¢–ò–í–ù–´–ô –°–õ–û–ô (–ú–µ—Ç–∞-–ì—Ä–∞—Ñ –≤ Neo4j)                ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ   "–ß–¢–û –¥–µ–ª–∞—Ç—å" ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å              ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ   (:Constraint {                                                ‚îÇ
‚îÇ     rule_name: '–ó–∞–∫–æ–Ω –Ø–∑—ã–∫–∞',                                  ‚îÇ
‚îÇ     function: 'cyrillic_ratio',  ‚Üê —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∏–º–∏—Ç–∏–≤          ‚îÇ
‚îÇ     operator: '>=',              ‚Üê —É—Å–ª–æ–≤–∏–µ                      ‚îÇ
‚îÇ     threshold: 0.25              ‚Üê –ø–∞—Ä–∞–º–µ—Ç—Ä (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å!)     ‚îÇ
‚îÇ   })-[:RESTRICTS]->(:Action {tool_name: 'create_concept'})     ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ Middleware —á–∏—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –ü–†–û–¶–ï–î–£–†–ù–´–ô –°–õ–û–ô (Python Runtime)                     ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ   "–ö–ê–ö –¥–µ–ª–∞—Ç—å" ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞            ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ   PRIMITIVES = {                                                ‚îÇ
‚îÇ     'cyrillic_ratio': lambda text: count_cyrillic(text)/len(), ‚îÇ
‚îÇ     'regex_match': lambda text, pattern: bool(re.search(...)), ‚îÇ
‚îÇ     'node_count': lambda type: run_cypher(f'MATCH (n:{type})'),‚îÇ
‚îÇ   }                                                             ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ   –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç Constraint –∏–∑ –≥—Ä–∞—Ñ–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–∏—Ç–∏–≤ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 4.5.2. –ü–æ—á–µ–º—É —ç—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ?

| ID      | –ö—Ä–∏—Ç–µ—Ä–∏–π                              | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è? |
| :------ | :------------------------------------ | :----------- |
| 4.5.2.1 | –ü—Ä–∞–≤–∏–ª–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ **–¥–∞–Ω–Ω—ã–µ**       | ‚úÖ –î–∞ ‚Äî —É–∑–ª—ã `:Constraint` –≤ Neo4j |
| 4.5.2.2 | –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞**   | ‚úÖ –î–∞ ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å `threshold` –≤ –≥—Ä–∞—Ñ–µ |
| 4.5.2.3 | –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç **–≤–∏–¥–µ—Ç—å** –ø—Ä–∞–≤–∏–ª–∞        | ‚úÖ –î–∞ ‚Äî —á–µ—Ä–µ–∑ `explain_physics` |
| 4.5.2.4 | –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç **–ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å** –∏–∑–º–µ–Ω–µ–Ω–∏—è  | ‚úÖ –î–∞ ‚Äî —á–µ—Ä–µ–∑ `propose_change` |
| 4.5.2.5 | –û—Ç–¥–µ–ª–µ–Ω–æ **–ß–¢–û** –æ—Ç **–ö–ê–ö**           | ‚úÖ –î–∞ ‚Äî –≥—Ä–∞—Ñ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, Python –≤—ã–ø–æ–ª–Ω—è–µ—Ç |

**–ê–Ω–∞–ª–æ–≥–∏–∏:**

| –°–∏—Å—Ç–µ–º–∞    | –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ª–æ–π           | –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —Å–ª–æ–π          |
| :--------- | :--------------------------- | :------------------------ |
| SQL        | –ó–∞–ø—Ä–æ—Å `SELECT * WHERE x>5`  | –î–≤–∏–∂–æ–∫ –ë–î (B-tree)        |
| CSS        | –ü—Ä–∞–≤–∏–ª–æ `.btn { color:red }` | –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π –¥–≤–∏–∂–æ–∫         |
| Terraform  | `.tf` —Ñ–∞–π–ª —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏       | AWS/GCP API               |
| **–ù–∞—à –ú–ì** | –£–∑–ª—ã `:Constraint`           | Python PRIMITIVES         |

#### 4.5.3. –¢–∞–±–ª–∏—Ü–∞ –ú–µ—Ö–∞–Ω–∏–∑–º–æ–≤ (–¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è)

| ID   | –ú–µ—Ö–∞–Ω–∏–∑–º                | –í –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ (–¥–∞–Ω–Ω—ã–µ)                                          | –í Python Runtime (–∫–æ–¥)                     | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ                                         |
| :--- | :---------------------- | :------------------------------------------------------------- | :----------------------------------------- | :----------------------------------------------------- |
| M-01 | Regex WikiLinks         | `(:Constraint {function:'regex_match', pattern:'\\[\\[.*?\\]\\]'})` | `PRIMITIVES['regex_match'](text, pattern)` | –ì—Ä–∞—Ñ ‚Üí –¥–∞—ë—Ç –ø–∞—Ç—Ç–µ—Ä–Ω ‚Üí Python –≤—ã–ø–æ–ª–Ω—è–µ—Ç regex           |
| M-02 | –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤  | `(:NodeType)-[:CAN_PERFORM]->(:Action)`                        | `get_allowed_actions(node_type)` ‚Äî Cypher  | –ì—Ä–∞—Ñ ‚Üí **—Å–∞–º —è–≤–ª—è–µ—Ç—Å—è** –±–µ–ª—ã–º —Å–ø–∏—Å–∫–æ–º ‚Üí Cypher —á–∏—Ç–∞–µ—Ç  |
| M-03 | –ó–∞–ø—Ä–µ—Ç —Å–∞–º–æ—É–¥–∞–ª–µ–Ω–∏—è     | `(:Constraint {function:'not_equals', field:'uid'})`           | `uid != current_location`                  | –ì—Ä–∞—Ñ ‚Üí —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–µ ‚Üí Python —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç              |
| M-04 | Orphan check            | `(:Constraint {function:'incoming_count', operator:'>', threshold:1})` | Cypher `MATCH (n)<-[r]-() RETURN count(r)` | –ì—Ä–∞—Ñ ‚Üí –∑–∞–¥–∞—ë—Ç –ø–æ—Ä–æ–≥ ‚Üí Cypher —Å—á–∏—Ç–∞–µ—Ç ‚Üí Python —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç |
| M-05 | –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å          | `(:NodeType {max_count: 1})`                                   | Cypher `MATCH (n:Type) RETURN count(n)`    | –ì—Ä–∞—Ñ ‚Üí —Ö—Ä–∞–Ω–∏—Ç –ª–∏–º–∏—Ç ‚Üí Cypher —Å—á–∏—Ç–∞–µ—Ç ‚Üí Python —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç |
| M-06 | –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–∑—ã–∫–∞          | `(:Constraint {function:'cyrillic_ratio', operator:'>=', threshold:0.25})` | `PRIMITIVES['cyrillic_ratio'](text)`       | –ì—Ä–∞—Ñ ‚Üí –¥–∞—ë—Ç –ø–æ—Ä–æ–≥ ‚Üí Python —Å—á–∏—Ç–∞–µ—Ç ‚Üí —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç        |
| M-07 | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è list_tools   | `(:NodeType)-[:CAN_PERFORM]->(:Action {scope})`                | `get_allowed_tool_names()` ‚Äî Cypher        | –ì—Ä–∞—Ñ ‚Üí **—Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ‚Üí Cypher —á–∏—Ç–∞–µ—Ç  |

#### 4.5.4. –ü—Ä–∏–º–∏—Ç–∏–≤—ã Python Runtime

–≠—Ç–æ "–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏", –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –º–µ–Ω—è—é—Ç—Å—è**. –ö–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (+, -, *, /), –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.

| ID      | –ü—Ä–∏–º–∏—Ç–∏–≤          | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                      |
| :------ | :---------------- | :------------------------------------- | :---------------------------------------------- |
| P-01    | `regex_match`     | `(text: str, pattern: str) -> bool`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è regex-–ø–∞—Ç—Ç–µ—Ä–Ω—É            |
| P-02    | `cyrillic_ratio`  | `(text: str) -> float`                 | –î–æ–ª—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ (0.0 - 1.0)         |
| P-03    | `node_count`      | `(label: str) -> int`                  | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ —Å –¥–∞–Ω–Ω—ã–º –ª–µ–π–±–ª–æ–º               |
| P-04    | `incoming_count`  | `(uid: str) -> int`                    | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥—è—â–∏—Ö —Å–≤—è–∑–µ–π —É–∑–ª–∞                 |
| P-05    | `equals`          | `(a: Any, b: Any) -> bool`             | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ                          |
| P-06    | `not_equals`      | `(a: Any, b: Any) -> bool`             | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ                        |
| P-07    | `compare`         | `(a, op: str, b) -> bool`              | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (>=, <=, ==, !=, >, <)  |

#### 4.5.5. –ß—Ç–æ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è Python)

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ                          | –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å                                            | –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞? |
| :--------------------------------- | :----------------------------------------------------- | :------------------- |
| –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã           | –ò–∑–º–µ–Ω–∏—Ç—å `threshold` –≤ `:Constraint`                   | ‚ùå –ù–µ—Ç               |
| –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —É–∑–ª–∞            | –°–æ–∑–¥–∞—Ç—å `:NodeType` + —Å–≤—è–∑–∏ `[:CAN_PERFORM]`           | ‚ùå –ù–µ—Ç               |
| –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥            | –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å `[:CAN_PERFORM]` –≤ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ            | ‚ùå –ù–µ—Ç               |
| –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥                  | –£–¥–∞–ª–∏—Ç—å —Å–≤—è–∑—å `[:CAN_PERFORM]`                         | ‚ùå –ù–µ—Ç               |
| –ò–∑–º–µ–Ω–∏—Ç—å regex-–ø–∞—Ç—Ç–µ—Ä–Ω             | –ò–∑–º–µ–Ω–∏—Ç—å `pattern` –≤ `:Constraint`                     | ‚ùå –ù–µ—Ç               |
| –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏        | –ù—É–∂–µ–Ω –Ω–æ–≤—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤ –≤ Python                          | ‚úÖ –î–∞                |

### 4.6. –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ M-07: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ              ‚îÇ
‚îÇ       MATCH (nt:NodeType {name: current_type})-[:CAN_PERFORM]->(a)  ‚îÇ
‚îÇ       WHERE a.tool_name = $requested_tool                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω?        ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚ñº                  ‚ñº
              [  –ù–ï–¢  ]          [  –î–ê  ]
                   ‚îÇ                  ‚îÇ
                   ‚ñº                  ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ PHYSICS ERROR   ‚îÇ   ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö Constraints:   ‚îÇ
        ‚îÇ Tool not found  ‚îÇ   ‚îÇ M-01, M-03, M-04, M-05, M-06        ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                               ‚îÇ
                                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                ‚îÇ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã?      ‚îÇ
                                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚ñº                  ‚ñº
                                [  –ù–ï–¢  ]          [  –î–ê  ]
                                     ‚îÇ                  ‚îÇ
                                     ‚ñº                  ‚ñº
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ CONSTRAINT      ‚îÇ   ‚îÇ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ò–ï   ‚îÇ
                          ‚îÇ VIOLATION       ‚îÇ   ‚îÇ    –î–ï–ô–°–¢–í–ò–Ø     ‚îÇ
                          ‚îÇ + error_message ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ß–∞—Å—Ç—å 5. –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è (explain_physics)

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω **–ø–æ–Ω–∏–º–∞—Ç—å** –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∞—Ç—å –æ—à–∏–±–∫—É.

### 5.1. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç explain_physics

| ID    | –ê—Å–ø–µ–∫—Ç        | –û–ø–∏—Å–∞–Ω–∏–µ                                                               |
| :---- | :------------ | :--------------------------------------------------------------------- |
| 5.1.1 | –í—Ö–æ–¥          | `tool_name: str` ‚Äî –∏–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–≥–µ–Ω—Ç —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å   |
| 5.1.2 | –í—ã—Ö–æ–¥ (—É—Å–ø–µ—Ö) | "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω. –í—ã–∑–æ–≤–∏—Ç–µ –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é."                          |
| 5.1.3 | –í—ã—Ö–æ–¥ (–±–ª–æ–∫)  | –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ª–æ–∫–∞—Ü–∏—è, –ø—Ä–∏—á–∏–Ω–∞, –ø—É—Ç—å –∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ           |

### 5.2. –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ê–≥–µ–Ω—Ç: explain_physics("create_concept(type='Requirement')")

–°–∏—Å—Ç–µ–º–∞: 
‚ùå –î–µ–π—Å—Ç–≤–∏–µ –ù–ï–î–û–°–¢–£–ü–ù–û.

üìç –í–∞—à–∞ –ª–æ–∫–∞—Ü–∏—è: (:Idea {uid: 'IDEA-GraphMCP'})

üîç –ü—Ä–∏—á–∏–Ω–∞: –í –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–µ –ù–ï–¢ —Å–≤—è–∑–∏ 
   (:NodeType {name: 'Idea'})-[:CAN_PERFORM]->(:Action {target_type: 'Requirement'})
   
   Idea –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Spec (–µ—Å–ª–∏ Spec –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).

üö™ –ü—É—Ç—å –∫ –¥–µ–π—Å—Ç–≤–∏—é:
   1. –°–æ–∑–¥–∞–π—Ç–µ Spec ‚Üí create_concept(type='Spec')
   2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ—Å—å –≤ Spec ‚Üí move_to(uid)
   3. –¢–µ–ø–µ—Ä—å create_concept(type='Requirement') –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
```

---

## –ß–∞—Å—Ç—å 6. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ü—Ä–æ—Ü–µ–¥—É—Ä—ã (Host Only)

> **–í–∞–∂–Ω–æ**: –≠—Ç–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤–Ω–µ—à–Ω–∏–º –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º** (Host Agent / Human).

### 6.1. –ü–µ—Ä–≤–∏—á–Ω–∞—è –ó–∞–≥—Ä—É–∑–∫–∞ (Bootstrap)

| ID    | –ê—Å–ø–µ–∫—Ç      | –û–ø–∏—Å–∞–Ω–∏–µ                                                         |
| :---- | :---------- | :--------------------------------------------------------------- |
| 6.1.1 | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å | –í–Ω–µ—à–Ω–∏–π –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä (—Å–∫—Ä–∏–ø—Ç –Ω–∞ —Ö–æ—Å—Ç–µ)                             |
| 6.1.2 | –£—Å–ª–æ–≤–∏–µ     | –ú–µ—Ç–∞-–ì—Ä–∞—Ñ –ø—É—Å—Ç (count(:NodeType) = 0)                            |
| 6.1.3 | –î–µ–π—Å—Ç–≤–∏–µ    | –ó–∞–≥—Ä—É–∑–∫–∞ :NodeType, :Action, :Constraint —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π          |
| 6.1.4 | –†–µ–∑—É–ª—å—Ç–∞—Ç   | –ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É —Å –∑–∞–∫–æ–Ω–∞–º–∏ —Ñ–∏–∑–∏–∫–∏                   |

### 6.2. –°–æ–∑–¥–∞–Ω–∏–µ Idea (—Ç–æ–ª—å–∫–æ Human)

| ID    | –ê—Å–ø–µ–∫—Ç      | –û–ø–∏—Å–∞–Ω–∏–µ                                                         |
| :---- | :---------- | :--------------------------------------------------------------- |
| 6.2.1 | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å | Human (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ UI)                                      |
| 6.2.2 | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ | –ê–≥–µ–Ω—Ç –ù–ï –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Idea                                    |
| 6.2.3 | –ü—Ä–∏—á–∏–Ω–∞     | Idea ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è Human         |

### 6.3. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ó–∞–∫–æ–Ω–æ–≤ (Architecture Mode)

| ID    | –ê—Å–ø–µ–∫—Ç      | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
| :---- | :---------- | :---------------------------------------------------------------------- |
| 6.3.1 | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä   | –ê–≥–µ–Ω—Ç (—á–µ—Ä–µ–∑ `propose_change`) –ò–õ–ò Human –Ω–∞–ø—Ä—è–º—É—é                       |
| 6.3.2 | –û–¥–æ–±—Ä–µ–Ω–∏–µ   | –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ Human                                         |
| 6.3.3 | –î–æ—Å—Ç—É–ø      | –ß—Ç–µ–Ω–∏–µ + –ó–∞–ø–∏—Å—å –≤ Kernel Space (–ú–µ—Ç–∞-–ì—Ä–∞—Ñ)                              |
| 6.3.4 | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | `add_node_type`, `add_action`, `add_constraint`, `remove_constraint`    |

---

## –ß–∞—Å—Ç—å 7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 7.1. –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| ID    | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                 | –í—Ä–µ–º—è       | –ü—Ä–∏—á–∏–Ω–∞                                              |
| :---- | :------------------------ | :---------- | :--------------------------------------------------- |
| 7.1.1 | Cypher –∫ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ—É       | ~1-5 ms     | –ú–µ—Ç–∞-–ì—Ä–∞—Ñ –∫—Ä–æ—à–µ—á–Ω—ã–π (10-50 —É–∑–ª–æ–≤), Neo4j –¥–µ—Ä–∂–∏—Ç –≤ RAM |
| 7.1.2 | Python –ø—Ä–∏–º–∏—Ç–∏–≤—ã          | ~0.01 ms    | `cyrillic_ratio`, `regex_match` ‚Äî –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã       |
| 7.1.3 | Cypher –∫ User Space       | ~5-20 ms    | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ä–∞–±–æ—á–µ–≥–æ –≥—Ä–∞—Ñ–∞                    |
| 7.1.4 | Network overhead (Docker) | ~1-2 ms     | –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å                                       |
| 7.1.5 | **–ò—Ç–æ–≥–æ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ**     | **~10-30 ms** | –ù–µ–∑–∞–º–µ—Ç–Ω–æ –Ω–∞ —Ñ–æ–Ω–µ LLM (1000-5000 ms)               |

### 7.2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

| –û–ø–µ—Ä–∞—Ü–∏—è                | –í—Ä–µ–º—è        | –û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ—É |
| :---------------------- | :----------- | :--------------------- |
| –û—Ç–≤–µ—Ç LLM (Claude/GPT)  | 1000-5000 ms | 100-500x –º–µ–¥–ª–µ–Ω–Ω–µ–µ     |
| –ß–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ | >100 ms      | 3-10x –º–µ–¥–ª–µ–Ω–Ω–µ–µ        |
| Overhead –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞     | ~10-30 ms    | **–±–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è**      |
| –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –¥–∏—Å–∫–∞    | ~5-50 ms     | –°–æ–ø–æ—Å—Ç–∞–≤–∏–º–æ            |

**–í—ã–≤–æ–¥:** Overhead –æ—Ç –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞ **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–∑–∞–º–µ—Ç–µ–Ω** –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–∞–±–æ—Ç—ã —Å LLM.

### 7.3. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 7.3.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞ (O-1)

–ú–µ—Ç–∞-–ì—Ä–∞—Ñ —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è. –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ –≤ –ø–∞–º—è—Ç—å Python –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

```python
# server.py
META_GRAPH_CACHE = None
META_GRAPH_LOADED_AT = 0
META_GRAPH_TTL = 60  # —Å–µ–∫—É–Ω–¥

def get_meta_graph():
    global META_GRAPH_CACHE, META_GRAPH_LOADED_AT
    now = time.time()
    if META_GRAPH_CACHE is None or (now - META_GRAPH_LOADED_AT) > META_GRAPH_TTL:
        META_GRAPH_CACHE = load_from_neo4j()  # 1 –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ N
        META_GRAPH_LOADED_AT = now
    return META_GRAPH_CACHE
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –ó–∞–ø—Ä–æ—Å –∫ Neo4j —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É, –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –∏–∑ –ø–∞–º—è—Ç–∏ (~0.001 ms).

#### 7.3.2. –ò–Ω–¥–µ–∫—Å—ã Neo4j (O-2)

```cypher
CREATE INDEX idx_uid FOR (n:Node) ON (n.uid);
CREATE INDEX idx_type FOR (n:NodeType) ON (n.name);
CREATE INDEX idx_action FOR (n:Action) ON (n.tool_name);
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —É–∑–ª–æ–≤ —Å O(n) –¥–æ O(log n).

#### 7.3.3. Connection Pooling (O-4)

```python
# –û–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
driver = GraphDatabase.driver(uri, auth=(user, password), max_connection_pool_size=10)

# –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
def run_query(query):
    with driver.session() as session:
        return session.run(query)
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ overhead –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (~50 ms ‚Üí 0 ms).

### 7.4. –¢–∞–±–ª–∏—Ü–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

| ID   | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç    | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –≠—Ñ—Ñ–µ–∫—Ç                                |
| :--- | :------------------------- | :----------- | :-------- | :------------------------------------ |
| O-1  | –ö—ç—à –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞ –≤ –ø–∞–º—è—Ç–∏    | üî¥ –í—ã—Å–æ–∫–∏–π   | –ù–∏–∑–∫–∞—è    | -95% –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Neo4j                 |
| O-2  | –ò–Ω–¥–µ–∫—Å—ã Neo4j              | üî¥ –í—ã—Å–æ–∫–∏–π   | –ù–∏–∑–∫–∞—è    | –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤ User Space         |
| O-3  | Lazy loading Constraints   | üü° –°—Ä–µ–¥–Ω–∏–π   | –°—Ä–µ–¥–Ω—è—è   | –ó–∞–≥—Ä—É–∑–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é    |
| O-4  | Connection pooling         | üü° –°—Ä–µ–¥–Ω–∏–π   | –ù–∏–∑–∫–∞—è    | –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ overhead —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è        |
| O-5  | Async –ø—Ä–æ–≤–µ—Ä–∫–∏ Constraints | üü¢ –ù–∏–∑–∫–∏–π    | –í—ã—Å–æ–∫–∞—è   | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π     |
| O-6  | Batch Cypher –∑–∞–ø—Ä–æ—Å—ã       | üü¢ –ù–∏–∑–∫–∏–π    | –°—Ä–µ–¥–Ω—è—è   | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–¥–∏–Ω |

### 7.5. –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º–∞?

| ID    | –°—Ü–µ–Ω–∞—Ä–∏–π                         | –°–∏–º–ø—Ç–æ–º            | –†–µ—à–µ–Ω–∏–µ                          |
| :---- | :------------------------------- | :----------------- | :------------------------------- |
| 7.5.1 | User Space > 10,000 —É–∑–ª–æ–≤        | –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫    | –ò–Ω–¥–µ–∫—Å—ã (O-2)                    |
| 7.5.2 | –ú–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤       | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ Neo4j   | Connection pooling (O-4)         |
| 7.5.3 | –ß–∞—Å—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ú–µ—Ç–∞-–ì—Ä–∞—Ñ–∞      | Cache invalidation | –£–º–µ–Ω—å—à–∏—Ç—å TTL –∏–ª–∏ event-driven   |
| 7.5.4 | 50+ Constraints –Ω–∞ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ | –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | Async (O-5) –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª |

---

## –ß–∞—Å—Ç—å 8. Cypher-—Å–∫—Ä–∏–ø—Ç –¥–ª—è Bootstrap

```cypher
// ===== –¢–ò–ü–´ –£–ó–õ–û–í =====
CREATE (:NodeType {name: 'Idea', description: '–ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞', max_count: 1})
CREATE (:NodeType {name: 'Spec', description: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è', max_count: 1})
CREATE (:NodeType {name: 'Requirement', description: '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ', max_count: null})
CREATE (:NodeType {name: 'Task', description: '–ó–∞–¥–∞—á–∞ –æ—Ç Human —á–µ—Ä–µ–∑ —á–∞—Ç', max_count: null})
CREATE (:NodeType {name: 'Domain', description: '–î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤', max_count: null})

// ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø =====
CREATE (:Action {uid: 'ACT-look_around', tool_name: 'look_around', scope: 'global'})
CREATE (:Action {uid: 'ACT-move_to', tool_name: 'move_to', scope: 'global'})
CREATE (:Action {uid: 'ACT-look_for_similar', tool_name: 'look_for_similar', scope: 'global'})
CREATE (:Action {uid: 'ACT-explain_physics', tool_name: 'explain_physics', scope: 'global'})
CREATE (:Action {uid: 'ACT-register_task', tool_name: 'register_task', scope: 'global'})

// ===== –ö–û–ù–¢–ï–ö–°–¢–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø =====
// Idea –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Spec
CREATE (:Action {uid: 'ACT-create_spec', tool_name: 'create_concept', target_type: 'Spec', link_type: 'DECOMPOSES', scope: 'contextual'})

// Spec –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Requirement –∏ Domain
CREATE (:Action {uid: 'ACT-create_req', tool_name: 'create_concept', target_type: 'Requirement', link_type: 'DECOMPOSES', scope: 'contextual'})
CREATE (:Action {uid: 'ACT-create_domain_from_spec', tool_name: 'create_concept', target_type: 'Domain', link_type: 'RELATES_TO', scope: 'contextual'})

// Requirement –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Domain
CREATE (:Action {uid: 'ACT-create_domain_from_req', tool_name: 'create_concept', target_type: 'Domain', link_type: 'RELATES_TO', scope: 'contextual'})

// –û–±—â–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
CREATE (:Action {uid: 'ACT-link_nodes', tool_name: 'link_nodes', scope: 'contextual'})
CREATE (:Action {uid: 'ACT-delete_node', tool_name: 'delete_node', scope: 'contextual'})
CREATE (:Action {uid: 'ACT-delete_link', tool_name: 'delete_link', scope: 'contextual'})
CREATE (:Action {uid: 'ACT-sync_graph', tool_name: 'sync_graph', scope: 'contextual'})
CREATE (:Action {uid: 'ACT-propose_change', tool_name: 'propose_change', scope: 'contextual'})

// ===== –°–í–Ø–ó–ò CAN_PERFORM =====
// Idea –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Spec (–µ—Å–ª–∏ Spec –µ—â—ë –Ω–µ—Ç)
MATCH (nt:NodeType {name: 'Idea'}), (a:Action {uid: 'ACT-create_spec'})
CREATE (nt)-[:CAN_PERFORM]->(a);

// Spec –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Requirement –∏ Domain
MATCH (nt:NodeType {name: 'Spec'}), (a:Action {uid: 'ACT-create_req'})
CREATE (nt)-[:CAN_PERFORM]->(a);
MATCH (nt:NodeType {name: 'Spec'}), (a:Action {uid: 'ACT-create_domain_from_spec'})
CREATE (nt)-[:CAN_PERFORM]->(a);

// Requirement –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Domain
MATCH (nt:NodeType {name: 'Requirement'}), (a:Action {uid: 'ACT-create_domain_from_req'})
CREATE (nt)-[:CAN_PERFORM]->(a);

// –í—Å–µ —Ç–∏–ø—ã (–∫—Ä–æ–º–µ Domain) –º–æ–≥—É—Ç link_nodes, delete_node, delete_link, sync_graph
MATCH (nt:NodeType) WHERE nt.name IN ['Idea', 'Spec', 'Requirement', 'Task']
MATCH (a:Action) WHERE a.uid IN ['ACT-link_nodes', 'ACT-delete_node', 'ACT-delete_link', 'ACT-sync_graph', 'ACT-propose_change']
CREATE (nt)-[:CAN_PERFORM]->(a);

// ===== –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø =====
CREATE (:Constraint {
  uid: 'CON-Russian_Language',
  rule_name: '–ó–∞–∫–æ–Ω –Ø–∑—ã–∫–∞',
  condition: 'cyrillic_ratio < 0.25',
  error_message: '–ö–æ–Ω—Ç–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–º–∏–Ω. 25% –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)'
});

CREATE (:Constraint {
  uid: 'CON-No_WikiLinks',
  rule_name: '–ó–∞–∫–æ–Ω –ß–∏—Å—Ç—ã—Ö –°—Å—ã–ª–æ–∫',
  condition: 'contains([[)',
  error_message: '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [[WikiLinks]] –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ. –°–≤—è–∑–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ link_nodes.'
});

CREATE (:Constraint {
  uid: 'CON-One_Idea',
  rule_name: '–ó–∞–∫–æ–Ω –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Idea',
  condition: 'count(Idea) >= 1',
  error_message: '–í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ Idea. Idea —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.'
});

CREATE (:Constraint {
  uid: 'CON-One_Spec',
  rule_name: '–ó–∞–∫–æ–Ω –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Spec',
  condition: 'count(Spec) >= 1',
  error_message: '–í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ Spec. Spec —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.'
});

// –ü—Ä–∏–≤—è–∑–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∫ –¥–µ–π—Å—Ç–≤–∏—è–º
MATCH (c:Constraint {uid: 'CON-Russian_Language'}), (a:Action {tool_name: 'create_concept'})
CREATE (c)-[:RESTRICTS]->(a);

MATCH (c:Constraint {uid: 'CON-No_WikiLinks'}), (a:Action {tool_name: 'create_concept'})
CREATE (c)-[:RESTRICTS]->(a);

MATCH (c:Constraint {uid: 'CON-One_Spec'}), (a:Action {uid: 'ACT-create_spec'})
CREATE (c)-[:RESTRICTS]->(a);
```

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-01-28 | –í–µ—Ä—Å–∏—è: 3.0 | –ü—Ä–æ—Ç–æ–∫–æ–ª Iron Dome*


## üîÑ SYNC CONFLICT: Database Version
> [!warning] Database content differs from local file.
> Below is the version from Neo4j Graph:

# Graph Physics Definition (The Laws)

> This node defines the Allowed Transitions and Tool Availability based on the Agent's Location.

## Transitions (The "Doors")

| Source Type | Target Type | Action Name | Required Tool |
| :--- | :--- | :--- | :--- |
| **Idea** | **Spec** | `decompose` | `create_concept(type='Spec')` |
| **Idea** | **Task** | `assign` | `create_concept(type='Task')` |
| **Spec** | **Requirement** | `refine` | `create_concept(type='Requirement')` |
| **Spec** | **Task** | `assign` | `create_concept(type='Task')` |
| **Requirement** | **File** | `implement` | `create_concept(type='File')` |
| **Requirement** | **Task** | `assign` | `create_concept(type='Task')` |
| **Task** | **Idea** | `brainstorm` | `create_concept(type='Idea')` |

## Constraints (The "Walls")

### Global Tools
*   `look_around`
*   `move_to`
*   `read_graph`

### Contextual Tools

#### Context: `(:Idea)`
**Allowed:**
*   `create_concept` (Only for `Spec`)
*   `link_nodes` (Only `DEPENDS_ON` between Ideas)

#### Context: `(:Spec)`
**Allowed:**
*   `create_concept` (Only for `Requirement`)
*   `link_nodes` (Only `DECOMPOSES` to Req)

#### Context: `(:Requirement)`
**Allowed:**
*   `create_concept` (Only for `File` stub)

#### Context: `(:File)`
**Allowed:**
*   `read_content`
*   `edit_content` (The "Holy Grail" - write access)
*   `grep_search`

#### Context: `(:Task)`
**Allowed:**
*   `submit_plan`
*   `finish_task`

---

## Evolution Protocol
To modify these rules, the Agent must be in **Genesis Mode** or use the `propose_amendment` tool (Future).